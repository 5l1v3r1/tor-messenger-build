version: '[% c("abbrev") %]'
git_url: https://github.com/mozilla/releases-comm-central
git_hash: master
filename: "[% project %]-[% c('version') %]-[% c('var/osname') %]-[% c('var/build_id') %].tar.bz2"
remote_docker: 1
lsb_release:
  id: Ubuntu
  release: 10.04
  codename: lucid
var:
  deps:
    - build-essential
    - libmpc2
    - autotools-dev
    - autoconf2.13
    - python
    - zip
    - libgtk2.0-dev
    - libidl-dev
    - libxt-dev
    - libxml2-dev
    - uuid-runtime
    - imagemagick
    - mesa-common-dev
    - libdbus-1-dev
    - libdbus-glib-1-dev
    - yasm-1
    - libasound2-dev
    - libgstreamer-plugins-base0.10-dev
    - libpulse-dev
    - ccache
targets:
  linux-i686:
    var:
      arch_deps:
        - libc6-dev-i386
        - ia32-libs
        - lib32z1-dev
        - lib32asound2-dev
input_files:
  - name: mozilla-src
    project: mozilla
    pkg_type: src
  - filename: preferences.patch
  - filename: irc.patch
  - filename: xmpp.patch
  - filename: facebook.patch
  - filename: accountcreation.patch
  - filename: prepare-messages-for-displaying.patch
  - filename: purple-tests.patch
  - filename: 'mozconfig-[% c("var/osname") %]'
    name: mozconfig
  - name: python
    project: python
  - URL: https://bootstrap.pypa.io/get-pip.py
    sha256sum: d43dc33a5670d69dd14a9be1f2b2fa27ebf124ec1b212a47425331040f742a9b
  - name: binutils
    project: binutils
  - name: gcc
    project: gcc
  - project: docker-image
